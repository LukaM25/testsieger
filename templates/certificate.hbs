<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product Certificate</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;600;700&family=Manrope:wght@400;500;600&display=swap');
    @page { size: A4; margin: 0; } /* CRITICAL FOR PDF GENERATION */
    :root {
      --bg: #0c1224;
      --card: rgba(255, 255, 255, 0.05);
      --panel: rgba(255, 255, 255, 0.08);
      --text: #e7ecf5;
      --muted: #9db1d0;
      --line: rgba(255, 255, 255, 0.12);
      --accent: #74f0ed;
      --accent-2: #8b6cff;
      --pill: #15213a;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Manrope', system-ui, -apple-system, sans-serif;
      color: var(--text);
      background: radial-gradient(140% 140% at 10% 20%, rgba(116, 240, 237, 0.15), transparent 40%),
                  radial-gradient(120% 120% at 80% 0%, rgba(139, 108, 255, 0.18), transparent 35%),
                  var(--bg);
      padding: 40px 32px;
      -webkit-print-color-adjust: exact; 
      print-color-adjust: exact; 
    }
    .page {
      max-width: 960px;
      margin: 0 auto;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
      border: 1px solid var(--line);
      border-radius: 28px;
      overflow: hidden;
      position: relative;
      height: 1050px; /* Force A4 Height */
    }
    .frame { padding: 40px 44px 48px; }
    header { display: flex; justify-content: space-between; gap: 16px; margin-bottom: 28px; }
    .brand { display: flex; align-items: center; gap: 12px; }
    .brand .orb { width: 42px; height: 42px; border-radius: 12px; background: linear-gradient(135deg, #74f0ed, #8b6cff); }
    .brand .name { font-size: 14px; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: 0.08em; }
    .headline h1 { margin: 0; font-size: 32px; font-weight: 700; color: #f7fbff; }
    .chips { display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; }
    .chip { padding: 8px 12px; border-radius: 99px; background: var(--pill); color: var(--muted); border: 1px solid var(--line); font-size: 12px; }
    .chip strong { color: #f0f4ff; font-weight: 700; }
    .panel { background: var(--panel); border: 1px solid var(--line); border-radius: 18px; padding: 18px; margin-bottom: 18px; }
    .panel h3 { margin: 0 0 10px; font-size: 14px; text-transform: uppercase; color: var(--muted); }
    .stat-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
    .stat { padding: 14px; border-radius: 14px; background: var(--card); border: 1px solid var(--line); }
    .stat .label { font-size: 11px; color: var(--muted); margin-bottom: 6px; text-transform: uppercase; }
    .stat .value { font-weight: 700; font-size: 14px; color: #f3f7ff; }
    .columns { display: grid; grid-template-columns: 2fr 1fr; gap: 18px; margin-top: 4px; }
    .card { padding: 18px; border-radius: 18px; background: var(--card); border: 1px solid var(--line); }
    .card h2 { margin: 0 0 10px; font-size: 16px; font-weight: 700; color: #f7fbff; }
    .list { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 12px; }
    .item { padding: 12px; border-radius: 14px; background: rgba(255,255,255,0.04); border: 1px dashed var(--line); }
    .item .k { font-size: 11px; color: var(--muted); text-transform: uppercase; margin-bottom: 4px; }
    .item .v { font-weight: 700; color: #f1f5ff; font-size: 13px; word-break: break-word; }
    .qr-block { display: flex; gap: 14px; align-items: center; margin-top: 10px; }
    .qr { width: 110px; height: 110px; border-radius: 12px; padding: 8px; background: #fff; display: grid; place-items: center; }
    .qr img { width: 100%; height: 100%; object-fit: contain; }
    footer { margin-top: 22px; padding-top: 16px; border-top: 1px solid var(--line); display: flex; justify-content: space-between; color: var(--muted); font-size: 12px; }
  </style>
</head>
<body>
  <div class="page">
    <div class="frame">
      <header>
        <div class="brand">
          <div class="orb"></div>
          <div class="name">Product Certificate</div>
        </div>
        <div class="headline">
          <div style="font-size:12px; color:var(--muted); text-transform:uppercase; margin-bottom:6px;">Verified Product Snapshot</div>
          <h1>{{default name "Product Name"}}</h1>
          <div class="chips">
            <span class="chip"><strong>Brand</strong> {{default brand "—"}}</span>
            <span class="chip"><strong>Category</strong> {{default category "—"}}</span>
            <span class="chip"><strong>SKU</strong> {{default code "—"}}</span>
          </div>
        </div>
      </header>

      <div class="panel">
        <h3>Product Identity</h3>
        <div class="stat-grid">
          <div class="stat"><div class="label">ID</div><div class="value">{{default id "—"}}</div></div>
          <div class="stat"><div class="label">Size</div><div class="value">{{default size "—"}}</div></div>
          <div class="stat"><div class="label">Material</div><div class="value">{{default material "—"}}</div></div>
          <div class="stat"><div class="label">Made In</div><div class="value">{{default madeIn "—"}}</div></div>
          <div class="stat"><div class="label">Specs</div><div class="value">{{default specs "—"}}</div></div>
          <div class="stat"><div class="label">Date</div><div class="value">{{date createdAt}}</div></div>
        </div>
      </div>

      <div class="columns">
        <div class="card">
          <h2>Status &amp; Certification</h2>
          <div class="list">
            <div class="item"><div class="k">Status</div><div class="v">{{default status "Pending"}}</div></div>
            <div class="item"><div class="k">Payment</div><div class="v">{{default paymentStatus "—"}}</div></div>
            <div class="item"><div class="k">Seal #</div><div class="v">{{default seal_number "Pending allocation"}}</div></div>
            <div class="item"><div class="k">Ref ID</div><div class="v">{{default externalReferenceId "—"}}</div></div>
          </div>
        </div>

        <div class="card">
          <h2>Responsible Owner</h2>
          <div class="list" style="grid-template-columns: 1fr;">
            <div class="item"><div class="k">Company</div><div class="v">{{default user.company "—"}}</div></div>
            <div class="item"><div class="k">Email</div><div class="v">{{default user.email "—"}}</div></div>
          </div>
        </div>
      </div>

      <div class="card" style="margin-top: 18px;">
        <h2>Digital Verification</h2>
        <div class="qr-block">
          <div class="qr">
            {{#if qrUrl}}
              <img src="{{qrUrl}}" alt="QR Code" />
            {{else}}
              <span style="color:#000; font-size:10px;">No QR</span>
            {{/if}}
          </div>
          <div>
            <div class="k" style="margin-bottom:6px;">Scan to Verify</div>
            <div class="v" style="font-size:13px; color:#f2f6ff;">
              This certificate is digitally signed. Scan to verify authenticity.
            </div>
          </div>
        </div>
      </div>

      <footer>
        <span>Generated via Internal Engine v2</span>
        <span>{{date createdAt}}</span>
      </footer>
    </div>
  </div>
</body>
</html>